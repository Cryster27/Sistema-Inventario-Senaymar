<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Visor PDF en Ventana Emergente</title>
</head>
<body>
    <h2>Prueba: Generar PDF y mostrarlo en ventana emergente</h2>
    <button id="btnPdf">Mostrar PDF</button>

    <script>
        document.getElementById('btnPdf').addEventListener('click', () => {
            // Crear contenido PDF usando Blob
            const contenido = `Ejemplo de PDF\nGenerado desde JavaScript`;

            // Convertir texto en un PDF simple usando jsPDF
            const doc = new jspdf.jsPDF();
            doc.text(contenido, 10, 10);

            // Obtener blob del PDF
            const pdfBlob = doc.output('blob');
            const pdfUrl = URL.createObjectURL(pdfBlob);

            // Abrir ventana emergente y mostrar PDF
            const ventana = window.open('', '_blank', 'width=800,height=600');
            ventana.document.write(`
                <html>
                <head><title>Visor PDF</title></head>
                <body style="margin:0">
                    <embed src="${pdfUrl}" type="application/pdf" width="100%" height="100%" />
                </body>
                </html>
            `);
        });
    </script>

    <!-- LibrerÃ­a jsPDF -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</body>
</html>
